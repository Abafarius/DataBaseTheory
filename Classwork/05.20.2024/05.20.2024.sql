CREATE TABLE Users(
	ID INT IDENTITY PRIMARY KEY,
	FirstName NVARCHAR(100),
	LastName NVARCHAR(100),
	Email NVARCHAR(100),
	Phone NVARCHAR(100),
	[Address] NVARCHAR(100)
)

insert into Users (FirstName, LastName, Email, Phone, Address) values ('Vickie', 'Mounter', 'vmounter0@facebook.com', '887-619-8538', '65 Brown Point');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Elianore', 'Chin', 'echin1@state.tx.us', '918-730-3781', '40881 Marcy Terrace');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Janot', 'Woolbrook', 'jwoolbrook2@fotki.com', '530-678-8406', '4498 Veith Parkway');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Quincy', 'Habishaw', 'qhabishaw3@smugmug.com', '790-127-0989', '16337 Darwin Alley');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Rahel', 'Dring', 'rdring4@mapquest.com', '426-253-8232', '11166 Doe Crossing Street');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Jacquetta', 'Tynewell', 'jtynewell5@google.com.hk', '214-318-1234', '2642 Stoughton Road');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Harmonia', 'Peppett', 'hpeppett6@xing.com', '216-113-0526', '5772 Darwin Place');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Blayne', 'Brackenbury', 'bbrackenbury7@si.edu', '762-534-5761', '9 Lindbergh Terrace');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Floris', 'Skaif', 'fskaif8@symantec.com', '653-750-5548', '5 Macpherson Hill');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Germayne', 'Alam', 'galam9@cloudflare.com', '478-608-3717', '1 Crownhardt Terrace');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Waite', 'Bonnavant', 'wbonnavanta@howstuffworks.com', '191-537-6766', '543 David Drive');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Elberta', 'Winkless', 'ewinklessb@yahoo.co.jp', '887-575-6574', '699 Commercial Center');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Kayne', 'Keyme', 'kkeymec@psu.edu', '239-749-5332', '995 Heath Pass');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Cathleen', 'Morsey', 'cmorseyd@mediafire.com', '950-120-8715', '05486 Bartillon Park');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Warde', 'Buckoke', 'wbuckokee@springer.com', '581-144-5233', '09448 Arrowood Circle');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Hewett', 'Dampier', 'hdampierf@prlog.org', '889-983-0093', '263 Beilfuss Park');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Nolly', 'Digger', 'ndiggerg@elegantthemes.com', '296-107-8239', '94 Portage Road');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Matty', 'Duffell', 'mduffellh@ning.com', '696-194-6565', '80942 Buhler Plaza');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Jasun', 'Wymer', 'jwymeri@yahoo.co.jp', '594-475-4247', '3472 Welch Center');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Annmaria', 'Zemler', 'azemlerj@army.mil', '285-422-1901', '432 Carey Alley');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Sigrid', 'Stonard', 'sstonardk@msu.edu', '543-123-3215', '45179 Hooker Point');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Donny', 'Schukert', 'dschukertl@simplemachines.org', '602-246-3019', '14926 Longview Circle');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Feodor', 'Gabe', 'fgabem@tinypic.com', '570-429-7485', '838 Clemons Lane');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Laurie', 'Di Matteo', 'ldimatteon@icq.com', '445-753-4616', '3961 Green Ridge Alley');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Bethena', 'De Bellis', 'bdebelliso@issuu.com', '594-944-0624', '918 Waubesa Way');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Breena', 'Bendixen', 'bbendixenp@smugmug.com', '583-525-7417', '28885 Sugar Lane');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Estel', 'Leathers', 'eleathersq@pagesperso-orange.fr', '922-107-6167', '75 Hoard Lane');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Arturo', 'Wolford', 'awolfordr@google.com', '397-466-6574', '7254 Esch Pass');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Goddard', 'Heugh', 'gheughs@diigo.com', '996-156-6589', '43674 Melody Lane');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Orren', 'Shadrack', 'oshadrackt@java.com', '573-517-6874', '2 Stone Corner Crossing');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Prisca', 'Gunton', 'pguntonu@ow.ly', '350-861-1859', '9250 Maple Junction');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Stafford', 'Ovize', 'sovizev@lycos.com', '397-556-2502', '603 Helena Point');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Town', 'Billett', 'tbillettw@cyberchimps.com', '598-817-2120', '3170 Del Mar Junction');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Steward', 'Wyne', 'swynex@gizmodo.com', '294-118-8176', '101 Summit Drive');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Mic', 'De Lorenzo', 'mdelorenzoy@booking.com', '837-459-3108', '49 Susan Alley');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Kelcy', 'Heady', 'kheadyz@xinhuanet.com', '109-974-7408', '981 Judy Street');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Tawsha', 'Cullnean', 'tcullnean10@home.pl', '322-966-7673', '0 Nancy Pass');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Rene', 'Coton', 'rcoton11@miibeian.gov.cn', '908-497-6843', '5 West Trail');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Adler', 'Aust', 'aaust12@freewebs.com', '983-290-1419', '436 Paget Trail');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Silvia', 'Sawkins', 'ssawkins13@amazon.co.uk', '405-241-3873', '45557 Clemons Drive');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Ara', 'Efford', 'aefford14@wikispaces.com', '441-252-9893', '6 1st Alley');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Hirsch', 'Streetfield', 'hstreetfield15@fastcompany.com', '247-693-3414', '97292 Stoughton Center');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Siouxie', 'Pragnell', 'spragnell16@live.com', '752-481-0780', '14960 Clemons Alley');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Monah', 'Osband', 'mosband17@businessweek.com', '443-446-3271', '73 Saint Paul Terrace');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Gwynne', 'McInteer', 'gmcinteer18@myspace.com', '819-101-3316', '35 Pierstorff Parkway');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Rolph', 'Showell', 'rshowell19@reddit.com', '784-934-9812', '82680 Saint Paul Point');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Frank', 'Renzullo', 'frenzullo1a@twitter.com', '511-486-4782', '66 Homewood Parkway');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Arabele', 'Featherbie', 'afeatherbie1b@huffingtonpost.com', '210-351-3725', '4 Milwaukee Alley');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Stephine', 'Maxwaile', 'smaxwaile1c@tamu.edu', '402-100-7728', '770 Mockingbird Plaza');
insert into Users (FirstName, LastName, Email, Phone, Address) values ('Rourke', 'McNea', 'rmcnea1d@51.la', '559-512-1102', '26 Dawn Junction');

CREATE VIEW SORTBYLASTNAME
AS 
SELECT FirstName+LastName AS FullName, Phone, Email, [Address] 
FROM Users
WHERE FirstName LIKE 'Stephine'
OR FirstName LIKE 'Hirsch'
OR FirstName LIKE 'Laurie' 

SELECT *
FROM SORTBYLASTNAME
ORDER BY FullName

CREATE TRIGGER DELETERECORD
ON USERS
AFTER DELETE
AS 
SELECT *
FROM deleted

DELETE FROM Users
WHERE ID = 3


CREATE PROCEDURE SEARCHBYEMAIL
@EMAIL NVARCHAR(100)
AS 
SELECT *
FROM Users
WHERE EmaiL LIKE '%'+ @EMAIL + '%'


EXEC SEARCHBYEMAIL 'ab'



----------------------------------------------------
CREATE TABLE Products(
	ID INT IDENTITY PRIMARY KEY,
	[Name] NVARCHAR(100),
	Price FLOAT,
	Quantity INT,
	[Description] NVARCHAR(100),
	AddedDate DATETIME
)


insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Spaghetti Squash', 3071.02, 1, 'Orange', '2023-09-27');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Juice - Cranberry 284ml', 1685.79, 2, 'Purple', '2023-12-25');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Kellogs Cereal In A Cup', 1881.3, 3, 'Khaki', '2023-07-27');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Nantuket Peach Orange', 3001.2, 4, 'Violet', '2023-05-30');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Wine - Magnotta - Bel Paese White', 3661.0, 5, 'Crimson', '2023-10-04');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Sauce - Hp', 1188.91, 6, 'Indigo', '2024-04-06');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Rice - Long Grain', 1596.36, 7, 'Red', '2023-07-04');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Arizona - Green Tea', 3278.96, 8, 'Turquoise', '2023-09-06');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Wine - White, Ej', 2189.2, 9, 'Goldenrod', '2023-12-07');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Broom - Angled', 3554.6, 10, 'Aquamarine', '2023-09-19');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Danishes - Mini Raspberry', 2260.89, 11, 'Orange', '2024-03-27');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Amaretto', 1979.94, 12, 'Purple', '2023-07-28');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Guinea Fowl', 1346.48, 13, 'Aquamarine', '2023-10-01');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Beef - Ground Medium', 1078.53, 14, 'Purple', '2024-04-11');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Petite Baguette', 2052.5, 15, 'Khaki', '2023-06-08');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Potatoes - Mini White 3 Oz', 4752.33, 16, 'Red', '2024-04-19');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Chocolate - Liqueur Cups With Foil', 3503.72, 17, 'Maroon', '2024-04-11');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Sugar - Brown', 2647.73, 18, 'Fuscia', '2024-01-05');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Tea - Grapefruit Green Tea', 3396.5, 19, 'Teal', '2023-08-24');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Trout - Smoked', 3189.23, 20, 'Turquoise', '2023-09-07');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Potatoes - Yukon Gold 5 Oz', 2503.3, 21, 'Violet', '2023-09-04');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Cup - Translucent 7 Oz Clear', 1245.18, 22, 'Pink', '2023-12-04');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Wine - Red, Pelee Island Merlot', 3820.63, 23, 'Khaki', '2024-01-04');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Milk - Condensed', 1817.59, 24, 'Mauv', '2023-10-27');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Maintenance Removal Charge', 3493.66, 25, 'Orange', '2024-04-19');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Pork - Tenderloin, Frozen', 2669.62, 26, 'Violet', '2023-06-24');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Vinegar - Balsamic, White', 1714.34, 27, 'Purple', '2024-04-16');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Vinegar - Champagne', 1919.7, 28, 'Red', '2023-08-16');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Duck - Fat', 2571.28, 29, 'Aquamarine', '2024-01-30');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Yogurt - French Vanilla', 2260.58, 30, 'Pink', '2024-01-13');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Quail - Whole, Bone - In', 3876.66, 31, 'Red', '2023-05-29');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Glycerine', 2022.77, 32, 'Red', '2023-09-02');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Salsify, Organic', 1229.65, 33, 'Fuscia', '2023-06-15');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Oil - Shortening - All - Purpose', 2027.39, 34, 'Red', '2023-12-22');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Icecream - Dibs', 2414.69, 35, 'Purple', '2023-10-26');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Doilies - 10, Paper', 1874.15, 36, 'Purple', '2023-08-19');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Pepper - Julienne, Frozen', 4357.04, 37, 'Maroon', '2024-05-07');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Durian Fruit', 1624.59, 38, 'Crimson', '2023-06-24');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Soup - Campbells - Tomato', 2614.15, 39, 'Pink', '2023-10-13');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Coffee Decaf Colombian', 2920.04, 40, 'Mauv', '2023-08-02');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Pie Shell - 5', 3416.81, 41, 'Puce', '2024-04-26');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Mcguinness - Blue Curacao', 2977.71, 42, 'Green', '2023-12-02');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Yogurt - Cherry, 175 Gr', 3039.16, 43, 'Mauv', '2024-01-03');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Sauce - Roasted Red Pepper', 1825.63, 44, 'Teal', '2023-09-17');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Syrup - Monin, Swiss Choclate', 3077.42, 45, 'Khaki', '2024-01-16');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Blueberries', 2650.89, 46, 'Green', '2023-08-06');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Sprouts - Bean', 3561.03, 47, 'Khaki', '2024-01-18');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Energy Drink - Franks Original', 1282.67, 48, 'Orange', '2023-12-23');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Apple - Northern Spy', 2792.74, 49, 'Puce', '2023-08-12');
insert into Products (Name, Price, Quantity, [Description], AddedDate) values ('Glaze - Apricot', 4158.82, 50, 'Khaki', '2023-05-31');


CREATE VIEW GENERALPRICE AS 
SELECT [Name], Quantity*Price AS GP
FROM Products

SELECT *
FROM GENERALPRICE

CREATE TRIGGER UPDATEDATE
ON PRODUCTS 
AFTER INSERT
AS 
UPDATE PRODUCTS
SET ADDEDDATE = GETDATE()
WHERE ID = (SELECT ID FROM inserted)

INSERT INTO PRODUCTS
VALUES ('Gaze - Apriot', 418.82, 20, 'Kaki', '2023-06-25')


CREATE PROCEDURE INFOPRODUCTBYID 
@IDPROD INT
AS 
SELECT *
FROM PRODUCTS
WHERE ID = @IDPROD

EXEC INFOPRODUCTBYID 2

--------------------------------
CREATE TABLE ORDERS(
	ID INT IDENTITY PRIMARY KEY,
	UserName NVARCHAR(100),
	Amount INT,
	OrderDate DATETIME,
	OrderStatus NVARCHAR(100),
	ShippingAddress NVARCHAR(100)
)

insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('flathleiffure0', 1, '2023-06-01', 'Violet', '7598 Westport Terrace');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('rorgel1', 2, '2023-08-06', 'Khaki', '9890 Mendota Terrace');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('tcraigheid2', 3, '2023-10-16', 'Violet', '41 American Ash Hill');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('skennady3', 4, '2023-10-07', 'Puce', '525 Mcbride Circle');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('dearland4', 5, '2023-12-12', 'Teal', '1 Delladonna Way');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('jvarfalameev5', 6, '2023-06-22', 'Turquoise', '04 Dayton Lane');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('cberthomieu6', 7, '2023-07-10', 'Green', '1637 Kim Plaza');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('nmarlow7', 8, '2023-07-10', 'Fuscia', '5 Buhler Terrace');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('agradley8', 9, '2024-04-14', 'Mauv', '56 Northview Way');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('swhibley9', 10, '2023-10-30', 'Maroon', '60299 Holmberg Pass');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('arallinga', 11, '2024-04-20', 'Khaki', '6139 High Crossing Park');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('ystetlyeb', 12, '2024-02-29', 'Turquoise', '36226 Rieder Way');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('thumpherstonc', 13, '2024-03-09', 'Fuscia', '4 Vernon Avenue');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('bmandeld', 14, '2023-06-23', 'Pink', '7 Maryland Point');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('ebrawne', 15, '2023-11-17', 'Teal', '85006 Hoffman Trail');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('gtolomeif', 16, '2024-03-10', 'Khaki', '76 Farwell Pass');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('dsommerlyg', 17, '2023-10-09', 'Turquoise', '580 Pine View Street');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('apoureh', 18, '2023-07-04', 'Mauv', '40 Pearson Pass');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('drochei', 19, '2023-07-25', 'Turquoise', '846 Cardinal Avenue');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('wplanquej', 20, '2023-07-24', 'Green', '5724 Maple Pass');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('shindenbergerk', 21, '2023-09-30', 'Mauv', '313 Roxbury Way');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('slelievrel', 22, '2023-11-15', 'Turquoise', '074 Straubel Terrace');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('scrispinm', 23, '2023-08-22', 'Blue', '8990 5th Lane');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('dbreamn', 24, '2023-05-20', 'Blue', '1330 Esker Parkway');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('fheado', 25, '2023-10-24', 'Fuscia', '970 Fallview Center');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('tgummeryp', 26, '2024-01-24', 'Turquoise', '5349 7th Avenue');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('hahrendq', 27, '2024-01-23', 'Fuscia', '8727 Ridgeway Crossing');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('aweltonr', 28, '2024-03-19', 'Crimson', '128 Northport Point');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('thantuschs', 29, '2024-05-06', 'Purple', '0 Dunning Terrace');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('rgiannit', 30, '2024-04-13', 'Puce', '2629 Sycamore Center');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('crougieru', 31, '2024-04-15', 'Puce', '60054 Debra Terrace');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('lquinnettev', 32, '2023-09-03', 'Turquoise', '83 Thackeray Court');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('etilerw', 33, '2023-08-27', 'Teal', '77748 Eastlawn Trail');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('whinkleyx', 34, '2023-09-05', 'Pink', '54191 Sunfield Crossing');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('rpigfordy', 35, '2023-12-02', 'Khaki', '86 Lakewood Point');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('bcumminez', 36, '2024-01-29', 'Maroon', '4748 Tennyson Street');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('kmurrum10', 37, '2023-11-23', 'Pink', '2 Forest Lane');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('kpirt11', 38, '2023-12-02', 'Purple', '5 Weeping Birch Lane');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('mboyat12', 39, '2023-12-15', 'Pink', '026 Oneill Park');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('eleipelt13', 40, '2023-08-23', 'Crimson', '5 3rd Center');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('mcastanone14', 41, '2023-05-30', 'Puce', '65 Bellgrove Crossing');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('uruslinge15', 42, '2023-08-25', 'Aquamarine', '324 Village Green Junction');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('ashorte16', 43, '2023-11-21', 'Green', '5819 Mallory Crossing');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('tdelagua17', 44, '2023-10-11', 'Turquoise', '847 Jana Way');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('bdestouche18', 45, '2023-11-29', 'Indigo', '7187 Nancy Street');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('gangrock19', 46, '2024-04-26', 'Blue', '696 Golf View Drive');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('nconstable1a', 47, '2023-06-13', 'Yellow', '18982 Sachtjen Place');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('hbissell1b', 48, '2023-08-14', 'Aquamarine', '90848 Brickson Park Lane');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('kkiley1c', 49, '2023-09-08', 'Goldenrod', '3 Linden Parkway');
insert into Orders (UserName, Amount, OrderDate, OrderStatus, ShippingAddress) values ('aszantho1d', 50, '2024-02-21', 'Green', '13 Old Shore Crossing');

CREATE VIEW PENDINGSTATUS AS 
SELECT UserName, OrderStatus
FROM ORDERS
WHERE OrderStatus LIKE '%Green%'

SELECT *
FROM PENDINGSTATUS


CREATE TRIGGER CHECKSHIPPED 
ON ORDERS 
AFTER UPDATE 
AS 
DECLARE @STATUS NVARCHAR(100) = (SELECT OrderStatus FROM inserted)
IF @STATUS = 'Pink'
SELECT 'ORDER HAS BEEN SHIPPED'

UPDATE ORDERS
SET OrderStatus = 'PINK'
WHERE ID = 10


CREATE PROCEDURE CHANGESTATUS 
@STATUSORDER NVARCHAR(100),
@ID INT
AS
IF @STATUSORDER = 'PENDING' OR @STATUSORDER = 'SHIPPED' OR @STATUSORDER = 'CANCELLED' 
BEGIN
	UPDATE ORDERS
	SET OrderStatus = @STATUSORDER
	WHERE ID = @ID
END
ELSE
	SELECT 'ERROR'

EXEC CHANGESTATUS 'PENDING', 3

SELECT *
FROM ORDERS
---------------------------------------------------------------------------

CREATE TABLE CATEGORIES(
	ID INT IDENTITY PRIMARY KEY,
	CATEGORYNAME NVARCHAR(100),
	CATEGORYDESCRIPTION NVARCHAR(100),
	ADDEDDATE DATETIME
)

insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Asphalt Paving', 'Fuscia', '2024-02-02');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Rebar & Wire Mesh Install', 'Crimson', '2024-05-18');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Roofing (Asphalt)', 'Puce', '2023-11-12');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Temp Fencing, Decorative Fencing and Gates', 'Mauv', '2023-10-17');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Elevator', 'Violet', '2024-05-11');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Wall Protection', 'Aquamarine', '2024-03-30');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Framing (Steel)', 'Mauv', '2023-08-27');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('EIFS', 'Khaki', '2024-03-08');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Structural and Misc Steel (Fabrication)', 'Fuscia', '2023-07-02');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Construction Clean and Final Clean', 'Orange', '2024-03-26');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Drywall & Acoustical (MOB)', 'Yellow', '2024-02-16');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('RF Shielding', 'Khaki', '2023-09-26');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Electrical', 'Puce', '2023-09-17');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Curb & Gutter', 'Purple', '2023-05-22');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Roofing (Asphalt)', 'Pink', '2023-06-15');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Framing (Wood)', 'Khaki', '2023-12-02');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('HVAC', 'Red', '2024-04-25');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Hard Tile & Stone', 'Pink', '2024-05-14');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Wall Protection', 'Yellow', '2024-01-03');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Glass & Glazing', 'Red', '2023-05-22');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Roofing (Asphalt)', 'Purple', '2023-06-23');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Doors, Frames & Hardware', 'Crimson', '2023-12-08');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Hard Tile & Stone', 'Mauv', '2024-04-15');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('EIFS', 'Puce', '2024-03-16');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Plumbing & Medical Gas', 'Puce', '2024-04-29');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Framing (Wood)', 'Yellow', '2024-01-10');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Prefabricated Aluminum Metal Canopies', 'Purple', '2024-01-23');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Fire Sprinkler System', 'Orange', '2023-09-17');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Site Furnishings', 'Puce', '2024-02-16');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Overhead Doors', 'Maroon', '2023-11-25');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Marlite Panels (FED)', 'Red', '2023-05-26');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Exterior Signage', 'Crimson', '2023-11-23');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Elevator', 'Violet', '2023-09-13');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Doors, Frames & Hardware', 'Purple', '2024-03-06');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Framing (Steel)', 'Aquamarine', '2024-04-21');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Electrical and Fire Alarm', 'Teal', '2023-10-25');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Roofing (Asphalt)', 'Indigo', '2023-09-06');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Fire Sprinkler System', 'Violet', '2023-07-19');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('RF Shielding', 'Mauv', '2023-09-27');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Wall Protection', 'Maroon', '2023-11-07');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Masonry & Precast', 'Green', '2023-10-26');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Glass & Glazing', 'Maroon', '2023-09-06');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Temp Fencing, Decorative Fencing and Gates', 'Pink', '2024-01-28');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Glass & Glazing', 'Blue', '2023-06-19');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Glass & Glazing', 'Red', '2024-05-15');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('EIFS', 'Goldenrod', '2024-04-16');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Fire Protection', 'Green', '2023-08-25');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Curb & Gutter', 'Maroon', '2023-07-09');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('Retaining Wall and Brick Pavers', 'Red', '2024-04-18');
insert into CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE) values ('EIFS', 'Red', '2024-04-28');


CREATE VIEW GENERALCOUNTVIEW
AS
SELECT COUNT(CATEGORYNAME) AS CATNAME, MAX(ADDEDDATE) AS LASTRELEVANTDATE 
FROM CATEGORIES


CREATE TRIGGER UNIQUENAME
ON CATEGORIES
INSTEAD OF INSERT 
AS 
DECLARE @UNINAME NVARCHAR(100) = (SELECT CATEGORYNAME FROM inserted)
DECLARE @DESCRIPCAT NVARCHAR(100) = (SELECT CATEGORYDESCRIPTION FROM inserted)
IF (LEN(@DESCRIPCAT) = 90)
SELECT ('LENGTH MUST BE OVER 90')

ELSE IF ((SELECT COUNT(*) FROM CATEGORIES WHERE CATEGORYNAME = @UNINAME) >= 1)
SELECT ('nOT UNIQUE')

ELSE 
BEGIN
	INSERT INTO CATEGORIES (CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE)
	SELECT CATEGORYNAME, CATEGORYDESCRIPTION, ADDEDDATE
	FROM inserted
END
